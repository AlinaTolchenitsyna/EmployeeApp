<h2>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h2>
<button class="btn btn-success mb-3" (click)="openCreateModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>

<div class="table-responsive">
  <table class="table table-striped table-bordered">
    <thead class="table-light">
       <tr>
    <th (click)="toggleSort('department')" style="cursor: pointer">
      –û—Ç–¥–µ–ª
      <span *ngIf="sortColumn === 'department'">
        {{ sortDirection === 'asc' ? '‚ñ≤' : '‚ñº' }}
      </span>
    </th>
    <th (click)="toggleSort('fullName')" style="cursor: pointer">
      –§.–ò.–û
      <span *ngIf="sortColumn === 'fullName'">
        {{ sortDirection === 'asc' ? '‚ñ≤' : '‚ñº' }}
      </span>
    </th>
    <th (click)="toggleSort('birthDate')" style="cursor: pointer">
      –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
      <span *ngIf="sortColumn === 'birthDate'">
        {{ sortDirection === 'asc' ? '‚ñ≤' : '‚ñº' }}
      </span>
    </th>
    <th (click)="toggleSort('hireDate')" style="cursor: pointer">
      –î–∞—Ç–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      <span *ngIf="sortColumn === 'hireDate'">
        {{ sortDirection === 'asc' ? '‚ñ≤' : '‚ñº' }}
      </span>
    </th>
    <th (click)="toggleSort('salary')" style="cursor: pointer">
      –ó–∞—Ä–ø–ª–∞—Ç–∞
      <span *ngIf="sortColumn === 'salary'">
        {{ sortDirection === 'asc' ? '‚ñ≤' : '‚ñº' }}
      </span>
    </th>
    <th></th>
  </tr>
  <tr>
    <th><input class="form-control form-control-sm" [(ngModel)]="filter.department" (input)="applyFiltersAndSorting()"></th>
    <th><input class="form-control form-control-sm" [(ngModel)]="filter.fullName" (input)="applyFiltersAndSorting()"></th>
    <th><input class="form-control form-control-sm" type="date" [(ngModel)]="filter.birthDate" (input)="applyFiltersAndSorting()"></th>
    <th><input class="form-control form-control-sm" type="date" [(ngModel)]="filter.hireDate" (input)="applyFiltersAndSorting()"></th>
    <th><input class="form-control form-control-sm" [(ngModel)]="filter.salary" (input)="applyFiltersAndSorting()"></th>
    <th></th>
  </tr>
    </thead>
    <tbody>
      <tr *ngFor="let e of employees">
        <td>{{e.department}}</td>
        <td>{{e.fullName}}</td>
        <td>{{e.birthDate | date:'dd.MM.yyyy'}}</td>
        <td>{{e.hireDate | date:'dd.MM.yyyy'}}</td>
        <td>{{e.salary}}</td>
        <td class="text-nowrap">
          <button class="btn btn-sm btn-primary me-1" (click)="openEditModal(e)">‚úèÔ∏è</button>
          <button class="btn btn-sm btn-danger" (click)="deleteEmployee(e.id)">üóëÔ∏è</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>


<div class="modal fade" id="employeeModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <form [formGroup]="employeeForm" (ngSubmit)="saveEmployee()">
        <div class="modal-header">
          <h5 class="modal-title">{{ editingEmployee ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å' : '–°–æ–∑–¥–∞—Ç—å' }} —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">–§.–ò.–û</label>
            <input type="text" class="form-control" formControlName="fullName">
          </div>
          <div class="mb-3">
            <label class="form-label">–û—Ç–¥–µ–ª</label>
            <input type="text" class="form-control" formControlName="department">
          </div>
          <div class="mb-3">
            <label class="form-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
            <input type="date" class="form-control" formControlName="birthDate">
          </div>
          <div class="mb-3">
            <label class="form-label">–î–∞—Ç–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</label>
            <input type="date" class="form-control" formControlName="hireDate">
          </div>
          <div class="mb-3">
            <label class="form-label">–ó–∞—Ä–ø–ª–∞—Ç–∞</label>
            <input type="number" class="form-control" formControlName="salary">
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>
</div>
